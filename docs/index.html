<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    <meta name="keywords" content="汪俊峰 bluse jfwang blog 博客">
    <meta name="description" content="JF Wang">
    <meta name="author" content="jf wang">
    
    <title>
        
        JF Wang&#39;s Blog
    </title>
    <link rel="shortcut icon" href="/images/avatar.jpg">
    
<link rel="stylesheet" href="/css/style.css">

    
<link rel="stylesheet" href="/css/font-awesome.min.css">

    <script id="hexo-configurations">
    let KEEP = window.KEEP || {};
    KEEP.hexo_config = {"hostname":"www.wangjunfeng.com.cn","root":"/","path":"search.xml"};
    KEEP.theme_config = {"toc":{"enable":true,"number":true,"expand_all":true},"style":{"primary_color":"#0066CC","avatar":"/images/avatar.jpg","favicon":"/images/avatar.jpg","article_img_align":"center","left_side_width":"260px","content_max_width":"920px","hover":{"shadow":false,"scale":false},"first_screen":{"enable":true,"background_img":"/images/bg.svg","description":"Keep writing and Keep loving."}},"local_search":{"enable":true,"preload":true,"trigger":"auto","unescape":false},"code_copy":{"enable":true,"style":"default"},"pjax":{"enable":false},"version":"3.1.0"};
    KEEP.language_ago = {"second":"%s 秒前","minute":"%s 分钟前","hour":"%s 小时前","day":"%s 天前","week":"%s 周前","month":"%s 月前","year":"%s 年前"};
  </script>
<meta name="generator" content="Hexo 5.3.0"></head>


<body>
<div class="page-container">

    
        <div class="first-screen-container flex-center fade-in-down-animation">
    <div class="content flex-center">
        <div class="description">
            Keep writing and Keep loving.
        </div>
        
            <div class="s-icon-list">
                
                    
                        
                            <span class="s-icon-item github">
                                <a target="_blank" href="https://github.com/blusewang/">
                                    <i class="fab fa-github"></i>
                                </a>
                            </span>
                        
                    
                
                    
                        
                            <span class="s-icon-item weixin">
                                <a target="_blank" href="https://user-images.githubusercontent.com/1764005/103761401-90fced00-5051-11eb-9d18-949d2da63d54.png">
                                    <i class="fab fa-weixin"></i>
                                </a>
                            </span>
                        
                    
                
                    
                        
                            <span class="s-icon-item qq">
                                <a target="_blank" href="https://user-images.githubusercontent.com/1764005/103761455-a7a34400-5051-11eb-8b53-291304eb1593.png">
                                    <i class="fab fa-qq"></i>
                                </a>
                            </span>
                        
                    
                
                    
                
                    
                        
                            <span class="s-icon-item zhihu">
                                <a target="_blank" href="https://www.zhihu.com/people/bluse-wang">
                                    <i class="fab fa-zhihu"></i>
                                </a>
                            </span>
                        
                    
                
                    
                        
                            <span class="s-icon-item twitter">
                                <a target="_blank" href="https://twitter.com/dev_jf_wang">
                                    <i class="fab fa-twitter"></i>
                                </a>
                            </span>
                        
                    
                
                    
                
                    
                        
                            <span class="s-icon-item email">
                                <a href="mailto:dev.jf.wang@gmail.com">
                                    <i class="fas fa-envelope"></i>
                                </a>
                            </span>
                        
                    
                
            </div>
        
    </div>
</div>

    

    <header class="page-header">
        <div class="header-progress"></div>
    </header>

    <main class="page-main">

        <div class="page-main-content">

            <div class="page-main-content-top">
                <header class="header-wrapper">

    <div class="header-content has-first-screen">
        <div class="left">
            <a class="logo-title" href="/">
                JF Wang&#39;s Blog
            </a>
        </div>

        <div class="right">
            <div class="pc">
                <ul class="menu-list">
                    
                        <li class="menu-item">
                            <a class="active"
                               href="/"
                            >
                                首页
                            </a>
                        </li>
                    
                        <li class="menu-item">
                            <a class=""
                               href="/archives"
                            >
                                归档
                            </a>
                        </li>
                    
                        <li class="menu-item">
                            <a class=""
                               href="/tags"
                            >
                                标签
                            </a>
                        </li>
                    
                        <li class="menu-item">
                            <a class=""
                               href="/ip-tool"
                            >
                                IP查询
                            </a>
                        </li>
                    
                    
                        <li class="menu-item search search-popup-trigger">
                            <i class="fas fa-search"></i>
                        </li>
                    
                </ul>
            </div>
            <div class="mobile">
                
                    <div class="icon-item search search-popup-trigger"><i class="fas fa-search"></i></div>
                
                <div class="icon-item menu-bar">
                    <div class="menu-bar-middle"></div>
                </div>
            </div>
        </div>
    </div>

    <div class="header-drawer">
        <ul class="drawer-menu-list">
            
                <li class="drawer-menu-item flex-center">
                    <a class="active"
                       href="/">首页</a>
                </li>
            
                <li class="drawer-menu-item flex-center">
                    <a class=""
                       href="/archives">归档</a>
                </li>
            
                <li class="drawer-menu-item flex-center">
                    <a class=""
                       href="/tags">标签</a>
                </li>
            
                <li class="drawer-menu-item flex-center">
                    <a class=""
                       href="/ip-tool">IP查询</a>
                </li>
            
        </ul>
    </div>

    <div class="window-mask"></div>

</header>


            </div>

            <div class="page-main-content-middle">

                <main class="main-content normal-code-theme">

                    
                        <div class="home-content-container fade-in-down-animation">
    <ul class="home-article-list">
        
            <li class="home-article-item">

                

                <h3 class="home-article-title">
                    <a href="/2023/02/23/coredns-server-configure/">
                        CoreDNS 从零开始配置一个权威域名服务
                    </a>
                </h3>

                <div class="home-article-content markdown-body">
                    
                        这里以阿里云为例
准备工作购买一个域名不同的域名在国内的解析速度是不一样的。如.asia在国内的解析基本有200ms+的延迟。而.cn只会在50ms左右。
实名之类的就不介绍了。
安装CoreDNS服务CoreDNS是一个使用Go语言写的DNS服务器...
                    
                </div>

                <div class="home-article-meta-info-container">
    <div class="home-article-meta-info">
        <span><i class="fas fa-edit"></i> <span class="home-article-date" data-date="Thu Feb 23 2023 06:12:56 GMT+0800">2023-02-23</span></span>
        
        
            <span class="home-article-tag">
                <i class="fas fa-tags"></i>
                <ul>
                    
                        <li>
                            
                            <a href="/tags/dns/">dns</a>
                        </li>
                    
                        <li>
                            | 
                            <a href="/tags/CoreDNS/">CoreDNS</a>
                        </li>
                    
                </ul>
            </span>
        
    </div>

    <a href="/2023/02/23/coredns-server-configure/">阅读全文 <i class="fas fa-angle-right"></i></a>
</div>

            </li>
        
            <li class="home-article-item">

                

                <h3 class="home-article-title">
                    <a href="/2023/02/22/iptable-ipset/">
                        使用ipset配合iptable实现多IP段白名单式开放端口
                    </a>
                </h3>

                <div class="home-article-content markdown-body">
                    
                        需求总有海外及国内IDC机房的IP来源来骚扰我的数据库服务。虽然配置了完善的pg_hba.conf规则，及要求了跨公网一律 TLS 安全传输。但不断的来自公网的端口嗅探和骚扰。为了防止万一，这次打算通过iptable一次从根上解决！
安装1apt i...
                    
                </div>

                <div class="home-article-meta-info-container">
    <div class="home-article-meta-info">
        <span><i class="fas fa-edit"></i> <span class="home-article-date" data-date="Wed Feb 22 2023 00:53:06 GMT+0800">2023-02-22</span></span>
        
        
            <span class="home-article-tag">
                <i class="fas fa-tags"></i>
                <ul>
                    
                        <li>
                            
                            <a href="/tags/iptable/">iptable</a>
                        </li>
                    
                        <li>
                            | 
                            <a href="/tags/ipset/">ipset</a>
                        </li>
                    
                </ul>
            </span>
        
    </div>

    <a href="/2023/02/22/iptable-ipset/">阅读全文 <i class="fas fa-angle-right"></i></a>
</div>

            </li>
        
            <li class="home-article-item">

                

                <h3 class="home-article-title">
                    <a href="/2022/11/27/mail-server-on-openwrt-docker/">
                        如何在自家的路由器器上部署一个自己的邮箱服务
                    </a>
                </h3>

                <div class="home-article-content markdown-body">
                    
                        背景
注册线上的邮箱，对个人信息的绑定越来越多。国内很多邮箱，没有手机号注册不了。公司业务一般需要十几二十多个邮箱用于注册线上账号，这就需要几十个手机号。长年备用。
且现在注册邮箱时密码安全等级要求高。密码维护繁琐，一个没记录好。下次登录就很麻烦。
...
                    
                </div>

                <div class="home-article-meta-info-container">
    <div class="home-article-meta-info">
        <span><i class="fas fa-edit"></i> <span class="home-article-date" data-date="Sun Nov 27 2022 22:38:06 GMT+0800">2022-11-27</span></span>
        
        
            <span class="home-article-tag">
                <i class="fas fa-tags"></i>
                <ul>
                    
                        <li>
                            
                            <a href="/tags/postfix/">postfix</a>
                        </li>
                    
                        <li>
                            | 
                            <a href="/tags/docker/">docker</a>
                        </li>
                    
                        <li>
                            | 
                            <a href="/tags/openwrt/">openwrt</a>
                        </li>
                    
                </ul>
            </span>
        
    </div>

    <a href="/2022/11/27/mail-server-on-openwrt-docker/">阅读全文 <i class="fas fa-angle-right"></i></a>
</div>

            </li>
        
            <li class="home-article-item">

                

                <h3 class="home-article-title">
                    <a href="/2022/10/19/taro-mini-program/">
                        Taro+VUE+TS+NutUI 开发小程序的体验
                    </a>
                </h3>

                <div class="home-article-content markdown-body">
                    
                        NutUI问题小程序支持不整有些组件没有实现barrage弹幕组件，官方演示小程序的slot式使用就直接不能正常运行。
使用官方文档，结合演示小程序的源码的写法，在Taro-cli脚手架构建的项目里使用无效，直接用不了。
nut-form使用报警告使...
                    
                </div>

                <div class="home-article-meta-info-container">
    <div class="home-article-meta-info">
        <span><i class="fas fa-edit"></i> <span class="home-article-date" data-date="Wed Oct 19 2022 13:07:54 GMT+0800">2022-10-19</span></span>
        
        
            <span class="home-article-tag">
                <i class="fas fa-tags"></i>
                <ul>
                    
                        <li>
                            
                            <a href="/tags/Taro/">Taro</a>
                        </li>
                    
                        <li>
                            | 
                            <a href="/tags/VUE/">VUE</a>
                        </li>
                    
                        <li>
                            | 
                            <a href="/tags/%E5%BE%AE%E4%BF%A1%E5%B0%8F%E7%A8%8B%E5%BA%8F/">微信小程序</a>
                        </li>
                    
                </ul>
            </span>
        
    </div>

    <a href="/2022/10/19/taro-mini-program/">阅读全文 <i class="fas fa-angle-right"></i></a>
</div>

            </li>
        
            <li class="home-article-item">

                

                <h3 class="home-article-title">
                    <a href="/2022/10/19/postgresql-15/">
                        PostgreSQL 15 新特性
                    </a>
                </h3>

                <div class="home-article-content markdown-body">
                    
                        2022-10-13,Postgresql 15 发布了。这一版主要提升了排序性能，支持对WAL日志压缩。为开发者增加了一些新功能提升使用体验。
核心业务排序优化官方给出的新排序后性能提升25%～400%。窗口函数：row_number()、rank...
                    
                </div>

                <div class="home-article-meta-info-container">
    <div class="home-article-meta-info">
        <span><i class="fas fa-edit"></i> <span class="home-article-date" data-date="Wed Oct 19 2022 13:07:34 GMT+0800">2022-10-19</span></span>
        
        
            <span class="home-article-tag">
                <i class="fas fa-tags"></i>
                <ul>
                    
                        <li>
                            
                            <a href="/tags/PostgreSQL/">PostgreSQL</a>
                        </li>
                    
                </ul>
            </span>
        
    </div>

    <a href="/2022/10/19/postgresql-15/">阅读全文 <i class="fas fa-angle-right"></i></a>
</div>

            </li>
        
            <li class="home-article-item">

                

                <h3 class="home-article-title">
                    <a href="/2022/06/27/postgresql-multi-tenancy-distributed-geographically/">
                        PostgreSQL多租户按地域的分布式架构设计
                    </a>
                </h3>

                <div class="home-article-content markdown-body">
                    
                        设计目标
按用户所在地把用户按区域分组，将同一个区域的用户数据集中在当地的数据库中。
数据要按时间分表。能按月或按年，方便地处理数据，也能提高查询效率。
数据要集中化管理。不能把业务数据弄到不同的库中。最终要有个库中包括平台的所有数据。

设计服务实...
                    
                </div>

                <div class="home-article-meta-info-container">
    <div class="home-article-meta-info">
        <span><i class="fas fa-edit"></i> <span class="home-article-date" data-date="Mon Jun 27 2022 11:32:33 GMT+0800">2022-06-27</span></span>
        
        
            <span class="home-article-tag">
                <i class="fas fa-tags"></i>
                <ul>
                    
                        <li>
                            
                            <a href="/tags/PostgreSQL/">PostgreSQL</a>
                        </li>
                    
                        <li>
                            | 
                            <a href="/tags/%E5%88%86%E5%B8%83%E5%BC%8F/">分布式</a>
                        </li>
                    
                </ul>
            </span>
        
    </div>

    <a href="/2022/06/27/postgresql-multi-tenancy-distributed-geographically/">阅读全文 <i class="fas fa-angle-right"></i></a>
</div>

            </li>
        
            <li class="home-article-item">

                

                <h3 class="home-article-title">
                    <a href="/2022/06/27/postgresql-cross-os-problem/">
                        PostgreSQL跨系统主从后，出现查询时文本类条件无法命中的问题
                    </a>
                </h3>

                <div class="home-article-content markdown-body">
                    
                        问题描述
当主服务运行在FreeBSD上，从服务运行在Debian上时，同样的编译参数，且都打开了--with-icu支持，连接到Debian上查询条件带文本的查询返回空。没有命中数据。
主服务调整到Debian，从服务调整到Alpine上后，表现一...
                    
                </div>

                <div class="home-article-meta-info-container">
    <div class="home-article-meta-info">
        <span><i class="fas fa-edit"></i> <span class="home-article-date" data-date="Mon Jun 27 2022 10:48:44 GMT+0800">2022-06-27</span></span>
        
        
            <span class="home-article-tag">
                <i class="fas fa-tags"></i>
                <ul>
                    
                        <li>
                            
                            <a href="/tags/PostgreSQL/">PostgreSQL</a>
                        </li>
                    
                </ul>
            </span>
        
    </div>

    <a href="/2022/06/27/postgresql-cross-os-problem/">阅读全文 <i class="fas fa-angle-right"></i></a>
</div>

            </li>
        
            <li class="home-article-item">

                

                <h3 class="home-article-title">
                    <a href="/2022/06/27/wget-menu/">
                        wget 的妙用
                    </a>
                </h3>

                <div class="home-article-content markdown-body">
                    
                        将文件下载到特定目录📁只需将PATH替换为要保存文件的输出目录位置即可。wget ‐P &lt;PATH&gt; https://example.com/sitemap.xml
重命名下载的文件📝要重命名文件，请将FILENAME替换为您想要的名...
                    
                </div>

                <div class="home-article-meta-info-container">
    <div class="home-article-meta-info">
        <span><i class="fas fa-edit"></i> <span class="home-article-date" data-date="Mon Jun 27 2022 10:24:36 GMT+0800">2022-06-27</span></span>
        
        
            <span class="home-article-tag">
                <i class="fas fa-tags"></i>
                <ul>
                    
                        <li>
                            
                            <a href="/tags/wget/">wget</a>
                        </li>
                    
                </ul>
            </span>
        
    </div>

    <a href="/2022/06/27/wget-menu/">阅读全文 <i class="fas fa-angle-right"></i></a>
</div>

            </li>
        
            <li class="home-article-item">

                

                <h3 class="home-article-title">
                    <a href="/2022/06/27/linux-virtual-bridge-and-tun-tap/">
                        Linux bridge/tun/tap 构建虚拟网络
                    </a>
                </h3>

                <div class="home-article-content markdown-body">
                    
                        私有网桥，仅 VM 到 VM用于两个或多个 VM 之间的通信。它们只相互通信，不能访问 Internet 或主机。

添加一个名为 Gefyra0 的网桥# 为 VM 添加 2 个 tun/tap 接口# 将 tun/tap 接口与 brigde V...
                    
                </div>

                <div class="home-article-meta-info-container">
    <div class="home-article-meta-info">
        <span><i class="fas fa-edit"></i> <span class="home-article-date" data-date="Mon Jun 27 2022 10:24:01 GMT+0800">2022-06-27</span></span>
        
        
            <span class="home-article-tag">
                <i class="fas fa-tags"></i>
                <ul>
                    
                        <li>
                            
                            <a href="/tags/tun/">tun</a>
                        </li>
                    
                        <li>
                            | 
                            <a href="/tags/linux/">linux</a>
                        </li>
                    
                        <li>
                            | 
                            <a href="/tags/tap/">tap</a>
                        </li>
                    
                        <li>
                            | 
                            <a href="/tags/bridge/">bridge</a>
                        </li>
                    
                </ul>
            </span>
        
    </div>

    <a href="/2022/06/27/linux-virtual-bridge-and-tun-tap/">阅读全文 <i class="fas fa-angle-right"></i></a>
</div>

            </li>
        
            <li class="home-article-item">

                

                <h3 class="home-article-title">
                    <a href="/2021/12/18/unbearable-past/">
                        Unbearable Past
                    </a>
                </h3>

                <div class="home-article-content markdown-body">
                    
                        

                    
                </div>

                <div class="home-article-meta-info-container">
    <div class="home-article-meta-info">
        <span><i class="fas fa-edit"></i> <span class="home-article-date" data-date="Sat Dec 18 2021 16:03:19 GMT+0800">2021-12-18</span></span>
        
        
    </div>

    <a href="/2021/12/18/unbearable-past/">阅读全文 <i class="fas fa-angle-right"></i></a>
</div>

            </li>
        
    </ul>

    <div class="home-paginator">
        <div class="paginator">
    

    
        <a class="next btn"
           href="/page/2/"
        >下一页</a>
    
</div>

    </div>
</div>


                    
                </main>

            </div>

            <div class="page-main-content-bottom">
                <footer class="footer">
    <div class="info-container">
        <div class="copyright-info info-item">
            &copy;
            
              <span>2013</span> -
            
            2023 <i class="fas fa-heart icon-animate"></i> <a href="/">jf wang</a>
        </div>
        
        <div class="theme-info info-item">
            <a href="https://beian.miit.gov.cn/#/Integrated/recordQuery" target="_blank">京ICP备13038498号-1</a> | 由 <a target="_blank" href="https://hexo.io">Hexo</a> 驱动 | 主题 <a class="theme-version" target="_blank"></a>
        </div>
    </div>
    
        <script src='https://cdn.staticfile.org/mermaid/8.9.0/mermaid.min.js'></script>
        <script>
            if (window.mermaid) {
                mermaid.initialize({theme: 'forest'});
            }
        </script>
    
</footer>

            </div>
        </div>
    </main>

    

    <div class="right-bottom-side-tools">
        <div class="side-tools-container">

    <ul class="side-tools-list">
        <li class="tools-item tool-font-adjust-plus flex-center">
            <i class="fas fa-search-plus"></i>
        </li>

        <li class="tools-item tool-font-adjust-minus flex-center">
            <i class="fas fa-search-minus"></i>
        </li>

        <li class="tools-item tool-expand-width flex-center">
            <i class="fas fa-arrows-alt-h"></i>
        </li>

        <li class="tools-item tool-dark-light-toggle flex-center">
            <i class="fas fa-moon"></i>
        </li>

        <li class="tools-item tool-scroll-to-top flex-center">
            <i class="fas fa-arrow-up"></i>
        </li>

        <li class="tools-item tool-scroll-to-bottom flex-center">
            <i class="fas fa-arrow-down"></i>
        </li>
    </ul>

    <ul class="tools-ul-1">
        <li class="tools-item tool-toggle-show flex-center">
            <i class="fas fa-cog fa-spin"></i>
        </li>

    </ul>
</div>

    </div>

    

    <!-- image viewer -->
    <div class="image-viewer-container">
    <img src="">
</div>


</div>


    <div class="search-pop-overlay">
    <div class="popup search-popup">
        <div class="search-header">
          <span class="search-input-field-pre">
            <i class="fas fa-keyboard"></i>
          </span>
            <div class="search-input-container">
                <input autocomplete="off"
                       autocorrect="off"
                       autocapitalize="off"
                       placeholder="搜索..."
                       spellcheck="false"
                       type="search"
                       class="search-input"
                >
            </div>
            <span class="popup-btn-close">
                <i class="fas fa-times"></i>
            </span>
        </div>
        <div id="search-result">
            <div id="no-result">
                <i class="fas fa-spinner fa-pulse fa-5x fa-fw"></i>
            </div>
        </div>
    </div>
</div>







<script src="/js/utils.js"></script>

<script src="/js/main.js"></script>

<script src="/js/header-shrink.js"></script>

<script src="/js/back2top.js"></script>

<script src="/js/dark-light-toggle.js"></script>



    
<script src="/js/local-search.js"></script>




    
<script src="/js/code-copy.js"></script>



<div class="post-scripts ">
    
</div>



</body>
</html>
